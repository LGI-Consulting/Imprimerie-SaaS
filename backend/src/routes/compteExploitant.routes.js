import express from 'express';
import { checkRole } from '../middlewares/auth.middleware.js';
import {
  enregistrerMouvement,
  getHistoriqueMouvements,
  getSolde
} from '../controllers/compteExploitant.controller.js';

const router = express.Router();

// Routes protégées par le rôle 'admin' uniquement
router.post('/mouvement', checkRole(['admin']), enregistrerMouvement);
router.get('/historique', checkRole(['admin']), getHistoriqueMouvements);
router.get('/solde', checkRole(['admin']), getSolde);

export default router; 